{"ast":null,"code":"import _objectSpread from\"C:/Users/Sazid Ahmed/Desktop/e-commerce/Flipzokart/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/*\n==============================\nORDER CONFIRMATION â€“ PROFESSIONAL TEMPLATE\n==============================\nSubject:\nOrder Confirmed â€“ Thank You for Shopping with [Brand Name]\n\nHello [Customer Name],\nThank you for placing your order with [Brand Name].\nWeâ€™re happy to confirm that your order has been successfully received.\n\nOrder Summary\n- Order ID: #[Order Number]\n- Order Date: [Date & Time]\n- Payment Method: [COD / UPI / Card / Net Banking]\n- Payment Status: [Paid / Cash on Delivery]\n\nProduct Details\n- Product Name: [Product Name]\n- Quantity: [Qty]\n- Price: â‚¹[Amount]\n\nDelivery Information\n- Shipping Address:\n  [Full Address]\n- Estimated Delivery:\n  [Delivery Date Range]\nYou will receive another notification once your order is shipped.\n\nWhat Happens Next?\n- Order verification & processing\n- Dispatch from our warehouse\n- Delivery to your doorstep\n\nNeed Help?\nIf you have any questions or need assistance, feel free to contact us:\n- Email: support@[yourdomain].com\n- WhatsApp/Phone: +91-XXXXXXXXXX\n- Support Hours: [Timing]\n\nThank You\nWe appreciate your trust in [Brand Name] and look forward to serving you again.\nWarm regards,\nTeam [Brand Name]\n[Website URL]\n==============================\n*/import React,{useState,useEffect}from'react';import CheckoutForm from'./components/CheckoutForm';import OrderConfirmationTemplate from'./components/OrderConfirmationTemplate';import ModernOrderConfirmation from'./components/ModernOrderConfirmation';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[currentPage,setCurrentPage]=useState('login');// 'login', 'signup', 'home', 'shop', 'categories', 'cart', 'checkout', 'account', 'admin'\nconst[user,setUser]=useState(null);const[products,setProducts]=useState([]);// Persistent cart using localStorage\nconst[cart,setCart]=useState(()=>{const savedCart=localStorage.getItem('cart');return savedCart?JSON.parse(savedCart):[];});const[form,setForm]=useState({name:'',price:'',image:'',category:'',stock:''});const[loading,setLoading]=useState(false);const[selectedCategory,setSelectedCategory]=useState('All');// Check if user is already logged in\nuseEffect(()=>{const token=localStorage.getItem('token');if(token){axios.get('http://localhost:5000/api/auth/profile',{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{setUser(res.data.user);setCurrentPage('home');fetchProducts();fetchOrders();// Fetch orders on login\n}).catch(()=>{localStorage.removeItem('token');setCurrentPage('login');});}},[]);// If redirected back from Stripe Checkout, finalize order creation\nuseEffect(()=>{const params=new URLSearchParams(window.location.search);if(params.get('checkout')==='success'&&params.get('session_id')){const sessionId=params.get('session_id');const token=localStorage.getItem('token');// call backend to convert session into an order\naxios.post('http://localhost:5000/api/checkout-success',{sessionId},{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{alert('âœ… Payment successful and order created');setCart([]);fetchProducts();setCurrentPage('shop');// remove params from URL\nwindow.history.replaceState({},document.title,window.location.pathname);}).catch(err=>{console.error('Checkout finalize error',err);});}},[]);const fetchProducts=()=>{axios.get('http://localhost:5000/api/products').then(res=>setProducts(res.data)).catch(err=>console.error(\"Error:\",err));};// ===== SIGNUP =====\n// Always call hooks at the top level (fix for React Hooks error)\nuseEffect(()=>{if(user&&currentPage==='account'){fetchOrders();}// Also fetch orders after thankyou navigation for user role\nif(user&&currentPage==='thankyou'){fetchOrders();}// eslint-disable-next-line\n},[user,currentPage]);const handleSignup=async e=>{e.preventDefault();const email=document.getElementById('signup-email').value;const name=document.getElementById('signup-name').value;const password=document.getElementById('signup-password').value;const confirmPassword=document.getElementById('signup-confirm').value;if(password!==confirmPassword){alert(\"âš ï¸ Passwords do not match!\");return;}setLoading(true);axios.post('http://localhost:5000/api/auth/signup',{name,email,password}).then(res=>{alert(\"âœ… Signup successful! Please log in.\");localStorage.setItem('token',res.data.token);setUser(res.data.user);setCurrentPage('shop');fetchProducts();setTimeout(()=>fetchOrders(),500);// Ensure orders fetched after signup\n}).catch(err=>{var _err$response,_err$response$data;return alert(\"âŒ Error: \"+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||err.message));}).finally(()=>setLoading(false));};// ===== LOGIN =====\nconst handleLogin=async e=>{e.preventDefault();const email=document.getElementById('login-email').value;const password=document.getElementById('login-password').value;setLoading(true);axios.post('http://localhost:5000/api/auth/login',{email,password}).then(res=>{alert(\"âœ… Login successful!\");localStorage.setItem('token',res.data.token);setUser(res.data.user);setCurrentPage('shop');fetchProducts();setTimeout(()=>fetchOrders(),500);// Ensure orders fetched after login\n}).catch(err=>{var _err$response2,_err$response2$data;return alert(\"âŒ Error: \"+(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||err.message));}).finally(()=>setLoading(false));};// LOGOUT\nconst handleLogout=()=>{localStorage.removeItem('token');setUser(null);setProducts([]);setCart([]);setCurrentPage('login');};// ADD TO CART\nconst handleAddToCart=product=>{const existingItem=cart.find(item=>item._id===product._id);let newCart;if(existingItem){newCart=cart.map(item=>item._id===product._id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item);}else{newCart=[...cart,_objectSpread(_objectSpread({},product),{},{quantity:1})];}setCart(newCart);localStorage.setItem('cart',JSON.stringify(newCart));alert(\"âœ… Product added to cart!\");};// REMOVE FROM CART\nconst handleRemoveFromCart=productId=>{const newCart=cart.filter(item=>item._id!==productId);setCart(newCart);localStorage.setItem('cart',JSON.stringify(newCart));};// UPDATE CART QUANTITY\nconst handleUpdateQuantity=(productId,quantity)=>{let newCart;if(quantity<=0){newCart=cart.filter(item=>item._id!==productId);}else{newCart=cart.map(item=>item._id===productId?_objectSpread(_objectSpread({},item),{},{quantity}):item);}setCart(newCart);localStorage.setItem('cart',JSON.stringify(newCart));};// CALCULATE TOTAL\nconst cartTotal=cart.reduce((sum,item)=>sum+item.price*item.quantity,0);// Add Product\nconst handleAdd=()=>{if(!form.name||!form.price||!form.image){alert(\"âš ï¸ Name, Price and Image are required!\");return;}setLoading(true);const token=localStorage.getItem('token');axios.post('http://localhost:5000/api/products',form,{headers:{Authorization:\"Bearer \".concat(token)}}).then(()=>{alert(\"âœ… Product Added!\");setForm({name:'',price:'',image:'',category:'',stock:''});fetchProducts();}).catch(err=>alert(\"âŒ Error: \"+err.message)).finally(()=>setLoading(false));};// ===== ORDERS (Frontend) =====\nconst[orders,setOrders]=useState([]);const[orderLoading,setOrderLoading]=useState(false);const[shipping,setShipping]=useState({name:'',phone:'',address:'',city:'',state:'',pincode:'',locality:'',landmark:''});const[paymentMethod,setPaymentMethod]=useState('COD');const[checkoutStep,setCheckoutStep]=useState(1);// 1: shipping, 2: payment\nconst handleCheckout=()=>{if(!user){alert('Please login to place an order');setCurrentPage('login');return;}if(cart.length===0)return alert('Cart is empty');if(!shipping.name||!shipping.phone||!shipping.address||!shipping.city||!shipping.state||!shipping.pincode||!shipping.locality||!shipping.landmark){return alert('Please fill all shipping details');}const items=cart.map(i=>({productId:i._id,name:i.name,price:i.price,quantity:i.quantity}));setOrderLoading(true);const token=localStorage.getItem('token');axios.post('http://localhost:5000/api/orders',{items,total:cartTotal,shipping},{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{alert('âœ… Order placed successfully!');setCart([]);setShipping({address:'',city:'',pincode:'',phone:''});fetchOrders();setCurrentPage('shop');}).catch(err=>{var _err$response3,_err$response3$data;return alert('âŒ Error placing order: '+(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.error)||err.message));}).finally(()=>setOrderLoading(false));};const fetchOrders=()=>{const token=localStorage.getItem('token');if(!token)return;axios.get('http://localhost:5000/api/orders',{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>setOrders(res.data)).catch(err=>console.error('Orders fetch error',err.message));};const updateOrderStatus=(id,status)=>{const token=localStorage.getItem('token');axios.put(\"http://localhost:5000/api/orders/\".concat(id),{status},{headers:{Authorization:\"Bearer \".concat(token)}}).then(()=>fetchOrders()).catch(err=>{var _err$response4,_err$response4$data;return alert('âŒ Error: '+(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.error)||err.message));});};const handleDeleteOrder=id=>{if(!window.confirm('Delete this order?'))return;const token=localStorage.getItem('token');axios.delete(\"http://localhost:5000/api/orders/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(()=>fetchOrders()).catch(err=>{var _err$response5,_err$response5$data;return alert('âŒ Error: '+(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.error)||err.message));});};// Delete Product\nconst handleDelete=id=>{if(window.confirm(\"Are you sure you want to delete this product?\")){const token=localStorage.getItem('token');axios.delete(\"http://localhost:5000/api/products/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(()=>{alert(\"âœ… Deleted!\");fetchProducts();}).catch(err=>alert(\"âŒ Error: \"+err.message));}};// ===== THANKYOU PAGE =====\nif(currentPage==='thankyou'){// Find the latest order for the user (if available)\nconst latestOrder=orders&&orders.length>0?orders[0]:null;const customer=latestOrder&&latestOrder.shipping?{name:latestOrder.shipping.name,phone:latestOrder.shipping.phone,email:user===null||user===void 0?void 0:user.email}:{};const products=latestOrder&&latestOrder.items?latestOrder.items.map(item=>({name:item.name,image:item.image||'/placeholder.png',quantity:item.quantity,price:item.price})):[];const priceDetails=latestOrder?{subtotal:latestOrder.items?latestOrder.items.reduce((sum,i)=>sum+i.price*i.quantity,0):0,shipping:latestOrder.shippingCharge||0,discount:latestOrder.discount||0,tax:latestOrder.tax||0,total:latestOrder.total||(latestOrder.items?latestOrder.items.reduce((sum,i)=>sum+i.price*i.quantity,0)+(latestOrder.shippingCharge||0)+(latestOrder.tax||0)-(latestOrder.discount||0):0)}:{};// Format address as a single string\nconst shippingAddress=latestOrder&&latestOrder.shipping?\"\".concat(latestOrder.shipping.address,\", \").concat(latestOrder.shipping.locality,\", \").concat(latestOrder.shipping.landmark,\", \").concat(latestOrder.shipping.city,\", \").concat(latestOrder.shipping.state,\" - \").concat(latestOrder.shipping.pincode):'';// Status and payment badges\nconst statusBadge=/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold ml-2\",children:(latestOrder===null||latestOrder===void 0?void 0:latestOrder.status)||'Confirmed'});const paymentBadge=/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-semibold ml-2\",children:(latestOrder===null||latestOrder===void 0?void 0:latestOrder.paymentMethod)==='COD'?'Cash on Delivery':'Online Paid'});return/*#__PURE__*/_jsx(ModernOrderConfirmation,{order:{id:latestOrder===null||latestOrder===void 0?void 0:latestOrder._id,date:latestOrder?new Date(latestOrder.createdAt).toLocaleString():'',paymentMethod:paymentBadge,status:statusBadge},customer:customer,shippingAddress:shippingAddress,products:products,priceDetails:priceDetails,onContinueShopping:()=>setCurrentPage('shop'),onTrackOrder:()=>window.alert('Track Order feature coming soon!'),onDownloadInvoice:()=>window.alert('Download Invoice feature coming soon!'),supportEmail:\"support@flipzokart.com\",supportWhatsapp:\"6033394539\"});}// ===== LOGIN PAGE =====\nif(currentPage==='login'){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-r from-blue-600 to-blue-800 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center mb-8 text-blue-600\",children:\"Flipzokart\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-center\",children:\"\\uD83D\\uDD10 Login\"}),/*#__PURE__*/_jsx(\"input\",{id:\"login-email\",type:\"email\",placeholder:\"\\uD83D\\uDCE7 Email\",className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"login-password\",type:\"password\",placeholder:\"\\uD83D\\uDD11 Password\",className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-blue-600 text-white py-3 font-bold rounded hover:bg-blue-700 disabled:bg-gray-500\",children:loading?\"â³ Loading...\":\"âœ… Login\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('signup'),className:\"text-blue-600 font-bold hover:underline mt-2\",children:\"Sign up \\uD83D\\uDC49\"})]})]})});}// ===== SIGNUP PAGE =====\nif(currentPage==='signup'){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-r from-green-600 to-green-800 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center mb-8 text-green-600\",children:\"Flipzokart\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSignup,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-center\",children:\"\\uD83D\\uDCDD Sign Up\"}),/*#__PURE__*/_jsx(\"input\",{id:\"signup-name\",type:\"text\",placeholder:\"\\uD83D\\uDC64 Full Name\",className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-green-600\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"signup-email\",type:\"email\",placeholder:\"\\uD83D\\uDCE7 Email\",className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-green-600\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"signup-password\",type:\"password\",placeholder:\"\\uD83D\\uDD11 Password\",className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-green-600\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"signup-confirm\",type:\"password\",placeholder:\"\\uD83D\\uDD10 Confirm Password\",className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-green-600\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-green-600 text-white py-3 font-bold rounded hover:bg-green-700 disabled:bg-gray-500\",children:loading?\"â³ Loading...\":\"âœ… Sign Up\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Already have an account?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('login'),className:\"text-green-600 font-bold hover:underline mt-2\",children:\"Login \\uD83D\\uDC49\"})]})]})});}// ===== NAVBAR COMPONENT =====\nconst Navbar=()=>/*#__PURE__*/_jsxs(\"nav\",{className:\"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 text-white flex justify-between px-6 items-center shadow-2xl sticky top-0 z-50 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 text-white rounded-full w-14 h-14 flex items-center justify-center font-extrabold text-2xl shadow-md\",children:\"F\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-extrabold tracking-tight\",children:\"Flipzokart\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs opacity-80\",children:\"Shop smart \\u2022 Live happy\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('home'),className:\"px-4 py-2 rounded-lg font-semibold transition \".concat(currentPage==='home'?'bg-white text-indigo-700':'bg-white/10 hover:bg-white/20'),children:\"\\uD83C\\uDFE0 Home\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('categories'),className:\"px-4 py-2 rounded-lg font-semibold transition \".concat(currentPage==='categories'?'bg-white text-indigo-700':'bg-white/10 hover:bg-white/20'),children:\"\\uD83D\\uDCC2 Categories\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage('cart'),className:\"px-4 py-2 rounded-lg font-semibold relative transition \".concat(currentPage==='cart'?'bg-white text-indigo-700':'bg-white/10 hover:bg-white/20'),children:[\"\\uD83D\\uDED2 Cart\",cart.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs shadow\",children:cart.length})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('account'),className:\"px-4 py-2 rounded-lg font-semibold transition \".concat(currentPage==='account'?'bg-white text-indigo-700':'bg-white/10 hover:bg-white/20'),children:\"\\uD83D\\uDC64 Account\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"bg-red-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-600 transition\",children:\"\\uD83D\\uDEAA Logout\"})]})]});// ===== ORDER HISTORY PAGE REMOVED (merged into account) =====\n// ===== HOME PAGE =====\nif(currentPage==='home'){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen font-sans\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-600 via-blue-500 to-orange-500 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-6 py-24 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-6xl font-bold mb-4 leading-tight\",children:[\"\\uD83C\\uDF89 Apka Number 1 \",/*#__PURE__*/_jsx(\"br\",{}),\" E-Commerce Platform\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl mb-2 opacity-90\",children:\"Best products, Best prices, Best service!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg mb-8 opacity-80\",children:\"Lakh+ satisfied customers trust Flipzokart\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('categories'),className:\"bg-gradient-to-r from-yellow-400 to-orange-500 text-indigo-900 px-8 py-3 rounded-2xl font-extrabold text-lg hover:scale-105 transform transition shadow-2xl\",children:\"\\uD83D\\uDECD\\uFE0F Start Shopping\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('categories'),className:\"bg-white/20 border border-white/30 text-white px-8 py-3 rounded-2xl font-semibold text-lg hover:bg-white/30 hover:text-indigo-900 transition\",children:\"\\uD83D\\uDCC2 Explore Categories\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-8 mt-12\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold\",children:\"10K+\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90\",children:\"Products\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold\",children:\"100K+\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90\",children:\"Customers\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold\",children:\"24/7\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90\",children:\"Support\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-9xl\",children:\"\\uD83D\\uDED2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold mt-4\",children:\"Welcome to Flipzokart!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg mt-2 opacity-90\",children:[\"\\uD83D\\uDC4B \",user===null||user===void 0?void 0:user.name,\", Shop with confidence\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6 text-center\",children:\"\\uD83D\\uDD25 Featured Products\"}),products.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 text-xl\",children:\"\\u274C No products yet\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10\",children:products.slice(0,4).map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-2xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 w-full bg-gradient-to-b from-white to-gray-100 flex items-center justify-center rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:p.image,className:\"h-full w-full object-contain\",alt:p.name})}),/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold mt-3 text-lg truncate\",children:p.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:p.category||'General'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-600 font-bold text-xl\",children:[\"\\u20B9\",p.price]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full\",children:[p.stock,\" in stock\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToCart(p),className:\"mt-4 bg-indigo-600 text-white w-full py-2 rounded-xl font-semibold hover:bg-indigo-700 transform hover:scale-102 transition\",children:\"\\uD83D\\uDED2 Add to Cart\"})]},p._id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6 text-center\",children:\"\\u26A1 Quick Links\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 rounded-2xl shadow-lg cursor-pointer transition transform hover:scale-105 bg-gradient-to-br from-white/80 to-white/60\",onClick:()=>setCurrentPage('categories'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl mb-3\",children:\"\\uD83D\\uDCC2\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",children:\"Browse Categories\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:\"Explore different product categories\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 rounded-2xl shadow-lg cursor-pointer transition transform hover:scale-105 bg-gradient-to-br from-indigo-50 to-white/70\",onClick:()=>setCurrentPage('categories'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl mb-3\",children:\"\\uD83C\\uDFC6\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",children:\"Best Sellers\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:\"Most popular products\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 rounded-2xl shadow-lg cursor-pointer transition transform hover:scale-105 bg-gradient-to-br from-white/80 to-indigo-50\",onClick:()=>setCurrentPage('account'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl mb-3\",children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",children:\"My Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:\"Manage your profile and orders\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6 text-center\",children:\"\\u2728 Why Choose Flipzokart?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md hover:shadow-xl text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-5xl mb-3\",children:\"\\uD83D\\uDE9A\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",children:\"Fast Delivery\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Quick shipping to your doorstep\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md hover:shadow-xl text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-5xl mb-3\",children:\"\\uD83D\\uDCB3\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",children:\"Secure Payment\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"100% safe transactions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md hover:shadow-xl text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-5xl mb-3\",children:\"\\uD83D\\uDD04\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",children:\"Easy Returns\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Hassle-free return policy\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md hover:shadow-xl text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-5xl mb-3\",children:\"\\u2B50\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",children:\"Best Quality\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Premium products only\"})]})]})]})]})]});}// ===== CATEGORIES PAGE =====\nif(currentPage==='categories'){const categories=['All',...new Set(products.map(p=>p.category||'General'))];const filteredProducts=selectedCategory==='All'?products:products.filter(p=>(p.category||'General')===selectedCategory);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen font-sans\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6\",children:\"\\uD83D\\uDCC2 Browse Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3 mb-8 overflow-x-auto pb-4\",children:categories.map(cat=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCategory(cat),className:\"px-6 py-2 rounded-full font-bold whitespace-nowrap \".concat(selectedCategory===cat?'bg-blue-600 text-white':'bg-white text-blue-600 border-2 border-blue-600'),children:cat},cat))}),filteredProducts.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 text-xl\",children:\"\\u274C No products in this category\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\",children:filteredProducts.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow-md hover:shadow-xl transition\",children:[/*#__PURE__*/_jsx(\"img\",{src:p.image,className:\"h-48 w-full object-contain rounded\",alt:p.name}),/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold mt-3 text-lg truncate\",children:p.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:p.category||'General'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-600 font-bold text-xl mt-2\",children:[\"\\u20B9\",p.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:[\"Stock: \",p.stock||'Available']}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToCart(p),className:\"bg-orange-500 text-white w-full py-2 rounded font-bold hover:bg-orange-600\",children:\"\\uD83D\\uDED2 Add to Cart\"})]},p._id))})]})]});}// ===== CART PAGE =====\nif(currentPage==='cart'){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen font-sans\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-10 max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6\",children:\"\\uD83D\\uDED2 Your Cart\"}),cart.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 text-xl\",children:\"\\u274C Cart is empty\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 mb-8\",children:cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow-md flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-600 font-bold\",children:[\"\\u20B9\",item.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Qty:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:item.quantity,onChange:e=>handleUpdateQuantity(item._id,parseInt(e.target.value)),className:\"w-16 ml-2 p-1 border rounded\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveFromCart(item._id),className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 font-bold\",children:\"\\uD83D\\uDDD1\\uFE0F Remove\"})]},item._id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded shadow-md\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold mb-4\",children:[\"Total: \\u20B9\",cartTotal]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('checkout'),disabled:cart.length===0,className:\"w-full bg-blue-600 text-white py-3 font-bold rounded hover:bg-blue-700 disabled:bg-gray-500\",children:\"Proceed to Checkout\"})]})]})]})]});}// ===== CHECKOUT PAGE =====\nif(currentPage==='checkout'){// Payment method icons\nconst paymentOptions=[{value:'COD',label:'Cash on Delivery',icon:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCB5\"})},{value:'UPI',label:'UPI',icon:/*#__PURE__*/_jsx(\"span\",{className:\"h-6 w-6 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/2/2e/Unified_Payments_Interface_logo.svg\",alt:\"UPI\",className:\"h-6 w-10 object-contain\",onError:e=>{e.target.style.display='none';e.target.parentNode.innerHTML='ðŸª™';}})})},{value:'DEBIT',label:'Debit Card',icon:/*#__PURE__*/_jsx(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/0/04/Visa.svg\",alt:\"Visa\",className:\"h-6 w-10 inline\"})},{value:'CREDIT',label:'Credit Card',icon:/*#__PURE__*/_jsx(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/0/04/Visa.svg\",alt:\"Visa\",className:\"h-6 w-10 inline\"})}];// Primary color\nconst primary='indigo-600';const highlight='bg-indigo-50 border-indigo-600';return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen font-sans flex flex-col\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto w-full flex-1 pb-28 px-2 sm:px-0\",children:[checkoutStep===1&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-8 mb-8 relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl mr-2 text-indigo-600\",children:\"\\uD83D\\uDE9A\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold tracking-tight\",children:\"Shipping Details\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>{e.preventDefault();// Validate shipping fields\nif(!shipping.name||!shipping.phone||!shipping.address||!shipping.city||!shipping.state||!shipping.pincode||!shipping.locality||!shipping.landmark){alert('Please fill all shipping details');return;}setCheckoutStep(2);},className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"shipping-name\",value:shipping.name,onChange:e=>setShipping(_objectSpread(_objectSpread({},shipping),{},{name:e.target.value})),className:\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\",required:true,autoComplete:\"name\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shipping-name\",className:\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\",children:\"Full Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"shipping-phone\",value:shipping.phone,onChange:e=>setShipping(_objectSpread(_objectSpread({},shipping),{},{phone:e.target.value})),className:\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\",required:true,autoComplete:\"tel\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shipping-phone\",className:\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\",children:\"Phone\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"shipping-address\",value:shipping.address,onChange:e=>setShipping(_objectSpread(_objectSpread({},shipping),{},{address:e.target.value})),className:\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\",required:true,autoComplete:\"street-address\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shipping-address\",className:\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\",children:\"Address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"shipping-city\",value:shipping.city,onChange:e=>setShipping(_objectSpread(_objectSpread({},shipping),{},{city:e.target.value})),className:\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\",required:true,autoComplete:\"address-level2\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shipping-city\",className:\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\",children:\"City\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"shipping-pincode\",value:shipping.pincode,onChange:e=>setShipping(_objectSpread(_objectSpread({},shipping),{},{pincode:e.target.value})),className:\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\",required:true,autoComplete:\"postal-code\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shipping-pincode\",className:\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\",children:\"Pincode\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"shipping-state\",value:shipping.state,onChange:e=>setShipping(_objectSpread(_objectSpread({},shipping),{},{state:e.target.value})),className:\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\",required:true,autoComplete:\"address-level1\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shipping-state\",className:\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\",children:\"State\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"shipping-locality\",value:shipping.locality,onChange:e=>setShipping(_objectSpread(_objectSpread({},shipping),{},{locality:e.target.value})),className:\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\",required:true,autoComplete:\"address-line2\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shipping-locality\",className:\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\",children:\"Locality\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"shipping-landmark\",value:shipping.landmark,onChange:e=>setShipping(_objectSpread(_objectSpread({},shipping),{},{landmark:e.target.value})),className:\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shipping-landmark\",className:\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\",children:\"Landmark\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2\"})]})]})}),checkoutStep===2&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-8 mb-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-indigo-600 text-2xl mr-2\",children:\"\\uD83D\\uDCB3\"}),\"Payment Method\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8\",children:paymentOptions.map(opt=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"flex items-center border-2 rounded-xl px-5 py-4 w-full transition shadow-sm text-left space-x-4 focus:outline-none \".concat(paymentMethod===opt.value?highlight+' ring-2 ring-indigo-200':'bg-gray-50 border-gray-200 hover:border-indigo-400'),onClick:()=>setPaymentMethod(opt.value),children:[/*#__PURE__*/_jsx(\"span\",{children:opt.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg\",children:opt.label}),paymentMethod===opt.value&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-auto text-indigo-600 font-bold text-xl\",children:\"\\u2713\"})]},opt.value))}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-indigo-600 text-white py-3 font-bold rounded-xl text-lg hover:bg-indigo-700 transition disabled:bg-gray-400\",disabled:orderLoading,onClick:()=>{if(!user){alert('Please login to place an order');setCurrentPage('login');return;}setOrderLoading(true);const items=cart.map(i=>({productId:i._id,name:i.name,price:i.price,quantity:i.quantity}));const token=localStorage.getItem('token');axios.post('http://localhost:5000/api/orders',{items,total:cartTotal,shipping,paymentMethod},{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{setCart([]);localStorage.removeItem('cart');fetchOrders();setCurrentPage('thankyou');// Ensure orders are fetched again after navigating to thankyou\nsetTimeout(()=>fetchOrders(),500);}).catch(err=>{var _err$response6,_err$response6$data;alert('âŒ Error placing order: '+(((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.error)||err.message));}).finally(()=>setOrderLoading(false));},children:orderLoading?'Placing Order...':'Place Order'}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full mt-3 bg-gray-200 text-gray-800 py-2 rounded-xl font-bold hover:bg-gray-300\",onClick:()=>setCheckoutStep(1),children:\"\\u2190 Back to Shipping\"})]})})]}),checkoutStep===1&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-0 left-0 w-full bg-white shadow-2xl py-4 px-4 flex justify-center z-50\",children:/*#__PURE__*/_jsx(\"button\",{className:\"w-full max-w-2xl bg-indigo-600 text-white py-3 font-bold rounded-xl text-lg hover:bg-indigo-700 transition disabled:bg-gray-400\",onClick:()=>{// Validate shipping fields\nif(!shipping.name||!shipping.phone||!shipping.address||!shipping.city||!shipping.state||!shipping.pincode||!shipping.locality||!shipping.landmark){alert('Please fill all shipping details');return;}setCheckoutStep(2);},children:\"Proceed to Payment\"})})]});}// ===== SHOP PAGE =====\nif(currentPage==='shop'){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen font-sans\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6\",children:\"\\uD83C\\uDF89 All Products\"}),products.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 text-xl\",children:\"\\u274C No products available\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\",children:products.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow-md hover:shadow-xl transition\",children:[/*#__PURE__*/_jsx(\"img\",{src:p.image,className:\"h-48 w-full object-contain rounded\",alt:p.name}),/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold mt-3 text-lg truncate\",children:p.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:p.category||'General'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-600 font-bold text-xl mt-2\",children:[\"\\u20B9\",p.price]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToCart(p),className:\"bg-orange-500 text-white w-full py-2 mt-3 rounded font-bold hover:bg-orange-600\",children:\"\\uD83D\\uDED2 Add to Cart\"})]},p._id))})]})]});}if(currentPage==='account'){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen font-sans\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-10 max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6\",children:\"\\uD83D\\uDC64 My Account\"}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded shadow-md\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold mb-2\",children:[\"Name: \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg mb-2\",children:[\"Email: \",user.email]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg mb-2\",children:[\"Role: \",user.role]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mt-6 mb-2\",children:\"Order History\"}),orders.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No orders found.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:orders.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold\",children:[\"Order ID: \",order._id]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:new Date(order.createdAt).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold ml-2\",children:order.status}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-4 font-bold\",children:\"Payment:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-semibold ml-2\",children:order.paymentMethod==='COD'?'Cash on Delivery':'Online Paid'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"Total:\"}),\" \\u20B9\",order.total]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"Items:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2\",children:order.items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-white border border-gray-100 rounded-lg shadow-sm p-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image||'/placeholder.png',alt:item.name,className:\"h-12 w-12 object-contain rounded mr-3 border\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-800\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Qty: \",item.quantity]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-green-600 font-bold text-sm\",children:[\"\\u20B9\",item.price]})]})]},item.productId))})]}),order.shipping&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"Shipping:\"}),\" \",\"\".concat(order.shipping.address,\", \").concat(order.shipping.locality,\", \").concat(order.shipping.landmark,\", \").concat(order.shipping.city,\", \").concat(order.shipping.state,\" - \").concat(order.shipping.pincode)]})]},order._id))})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded shadow-md text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg mb-4\",children:\"Please login to view your account.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('login'),className:\"bg-blue-600 text-white px-6 py-2 rounded font-bold hover:bg-blue-700\",children:\"Login\"})]})]})]});}// ===== ADMIN PAGE =====\nif(currentPage==='admin'){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen font-sans\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-10 flex flex-col lg:flex-row gap-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-lg bg-white p-6 shadow-lg rounded-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:\"\\u2795 Add New Product\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Product Name\",className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\",value:form.name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{name:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Price (\\u20B9)\",type:\"number\",className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\",value:form.price,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{price:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Image URL\",className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\",value:form.image,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{image:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Category\",className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\",value:form.category,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{category:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Stock\",type:\"number\",className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\",value:form.stock,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{stock:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAdd,disabled:loading,className:\"bg-blue-600 text-white w-full py-3 font-bold rounded hover:bg-blue-700 disabled:bg-gray-500\",children:loading?\"â³ Adding...\":\"âœ… UPLOAD PRODUCT\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold mb-6\",children:[\"\\uD83D\\uDCE6 All Products (\",products.length,\")\"]}),products.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-lg\",children:\"No products available\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-4\",children:products.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow-md flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg\",children:p.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-600 font-bold\",children:[\"\\u20B9\",p.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[p.category||'General',\" | Stock: \",p.stock||'N/A']})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(p._id),className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 font-bold\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]},p._id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-white p-6 rounded shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-4\",children:\"\\uD83D\\uDCCB Orders\"}),orders.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No orders yet\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:orders.map(o=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded p-4 flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold\",children:[\"Order ID: \",o._id]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Placed: \",new Date(o.createdAt).toLocaleString()]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"Items:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside text-sm\",children:o.items.map(it=>/*#__PURE__*/_jsxs(\"li\",{children:[it.name,\" x \",it.quantity,\" \\u2014 \\u20B9\",it.price]},it.productId))}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold mt-2\",children:[\"Total: \\u20B9\",o.total]}),o.shipping&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-gray-700\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold\",children:\"Shipping Details:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Name: \",o.shipping.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Phone: \",o.shipping.phone]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Address: \",o.shipping.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"City: \",o.shipping.city]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Pincode: \",o.shipping.pincode]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Locality: \",o.shipping.locality]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Landmark: \",o.shipping.landmark]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right space-y-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold\",children:[\"Status: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-indigo-600\",children:o.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateOrderStatus(o._id,'shipped'),className:\"px-3 py-1 bg-yellow-400 rounded\",children:\"Mark Shipped\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateOrderStatus(o._id,'delivered'),className:\"px-3 py-1 bg-green-500 text-white rounded\",children:\"Mark Delivered\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateOrderStatus(o._id,'cancelled'),className:\"px-3 py-1 bg-red-500 text-white rounded\",children:\"Cancel\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteOrder(o._id),className:\"mt-2 px-3 py-1 bg-gray-200 rounded\",children:\"Delete\"})]})]},o._id))})]})]})]})]});}}export default App;","map":{"version":3,"names":["React","useState","useEffect","CheckoutForm","OrderConfirmationTemplate","ModernOrderConfirmation","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","currentPage","setCurrentPage","user","setUser","products","setProducts","cart","setCart","savedCart","localStorage","getItem","JSON","parse","form","setForm","name","price","image","category","stock","loading","setLoading","selectedCategory","setSelectedCategory","token","get","headers","Authorization","concat","then","res","data","fetchProducts","fetchOrders","catch","removeItem","params","URLSearchParams","window","location","search","sessionId","post","alert","history","replaceState","document","title","pathname","err","console","error","handleSignup","e","preventDefault","email","getElementById","value","password","confirmPassword","setItem","setTimeout","_err$response","_err$response$data","response","message","finally","handleLogin","_err$response2","_err$response2$data","handleLogout","handleAddToCart","product","existingItem","find","item","_id","newCart","map","_objectSpread","quantity","stringify","handleRemoveFromCart","productId","filter","handleUpdateQuantity","cartTotal","reduce","sum","handleAdd","orders","setOrders","orderLoading","setOrderLoading","shipping","setShipping","phone","address","city","state","pincode","locality","landmark","paymentMethod","setPaymentMethod","checkoutStep","setCheckoutStep","handleCheckout","length","items","i","total","_err$response3","_err$response3$data","updateOrderStatus","id","status","put","_err$response4","_err$response4$data","handleDeleteOrder","confirm","delete","_err$response5","_err$response5$data","handleDelete","latestOrder","customer","priceDetails","subtotal","shippingCharge","discount","tax","shippingAddress","statusBadge","className","children","paymentBadge","order","date","Date","createdAt","toLocaleString","onContinueShopping","onTrackOrder","onDownloadInvoice","supportEmail","supportWhatsapp","onSubmit","type","placeholder","required","disabled","onClick","Navbar","slice","p","src","alt","categories","Set","filteredProducts","cat","min","onChange","parseInt","target","paymentOptions","label","icon","onError","style","display","parentNode","innerHTML","primary","highlight","autoComplete","htmlFor","opt","_err$response6","_err$response6$data","role","o","it"],"sources":["C:/Users/Sazid Ahmed/Desktop/e-commerce/Flipzokart/client/src/App.js"],"sourcesContent":["/*\n==============================\nORDER CONFIRMATION â€“ PROFESSIONAL TEMPLATE\n==============================\nSubject:\nOrder Confirmed â€“ Thank You for Shopping with [Brand Name]\n\nHello [Customer Name],\nThank you for placing your order with [Brand Name].\nWeâ€™re happy to confirm that your order has been successfully received.\n\nOrder Summary\n- Order ID: #[Order Number]\n- Order Date: [Date & Time]\n- Payment Method: [COD / UPI / Card / Net Banking]\n- Payment Status: [Paid / Cash on Delivery]\n\nProduct Details\n- Product Name: [Product Name]\n- Quantity: [Qty]\n- Price: â‚¹[Amount]\n\nDelivery Information\n- Shipping Address:\n  [Full Address]\n- Estimated Delivery:\n  [Delivery Date Range]\nYou will receive another notification once your order is shipped.\n\nWhat Happens Next?\n- Order verification & processing\n- Dispatch from our warehouse\n- Delivery to your doorstep\n\nNeed Help?\nIf you have any questions or need assistance, feel free to contact us:\n- Email: support@[yourdomain].com\n- WhatsApp/Phone: +91-XXXXXXXXXX\n- Support Hours: [Timing]\n\nThank You\nWe appreciate your trust in [Brand Name] and look forward to serving you again.\nWarm regards,\nTeam [Brand Name]\n[Website URL]\n==============================\n*/\nimport React, { useState, useEffect } from 'react';\nimport CheckoutForm from './components/CheckoutForm';\nimport OrderConfirmationTemplate from './components/OrderConfirmationTemplate';\nimport ModernOrderConfirmation from './components/ModernOrderConfirmation';\nimport axios from 'axios';\n\nfunction App() {\n  const [currentPage, setCurrentPage] = useState('login'); // 'login', 'signup', 'home', 'shop', 'categories', 'cart', 'checkout', 'account', 'admin'\n  const [user, setUser] = useState(null);\n  const [products, setProducts] = useState([]);\n  // Persistent cart using localStorage\n  const [cart, setCart] = useState(() => {\n    const savedCart = localStorage.getItem('cart');\n    return savedCart ? JSON.parse(savedCart) : [];\n  });\n  const [form, setForm] = useState({ name: '', price: '', image: '', category: '', stock: '' });\n  const [loading, setLoading] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n\n  // Check if user is already logged in\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios.get('http://localhost:5000/api/auth/profile', {\n        headers: { Authorization: `Bearer ${token}` }\n      })\n        .then(res => {\n          setUser(res.data.user);\n          setCurrentPage('home');\n          fetchProducts();\n          fetchOrders(); // Fetch orders on login\n        })\n        .catch(() => {\n          localStorage.removeItem('token');\n          setCurrentPage('login');\n        });\n    }\n  }, []);\n\n  // If redirected back from Stripe Checkout, finalize order creation\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    if (params.get('checkout') === 'success' && params.get('session_id')) {\n      const sessionId = params.get('session_id');\n      const token = localStorage.getItem('token');\n      // call backend to convert session into an order\n      axios.post('http://localhost:5000/api/checkout-success', { sessionId }, { headers: { Authorization: `Bearer ${token}` } })\n        .then(res => {\n          alert('âœ… Payment successful and order created');\n          setCart([]);\n          fetchProducts();\n          setCurrentPage('shop');\n          // remove params from URL\n          window.history.replaceState({}, document.title, window.location.pathname);\n        })\n        .catch(err => {\n          console.error('Checkout finalize error', err);\n        });\n    }\n  }, []);\n\n  const fetchProducts = () => {\n    axios.get('http://localhost:5000/api/products')\n      .then(res => setProducts(res.data))\n      .catch(err => console.error(\"Error:\", err));\n  };\n\n  // ===== SIGNUP =====\n\n  // Always call hooks at the top level (fix for React Hooks error)\n  useEffect(() => {\n    if (user && currentPage === 'account') {\n      fetchOrders();\n    }\n    // Also fetch orders after thankyou navigation for user role\n    if (user && currentPage === 'thankyou') {\n      fetchOrders();\n    }\n    // eslint-disable-next-line\n  }, [user, currentPage]);\n  const handleSignup = async (e) => {\n    e.preventDefault();\n    const email = document.getElementById('signup-email').value;\n    const name = document.getElementById('signup-name').value;\n    const password = document.getElementById('signup-password').value;\n    const confirmPassword = document.getElementById('signup-confirm').value;\n\n    if (password !== confirmPassword) {\n      alert(\"âš ï¸ Passwords do not match!\");\n      return;\n    }\n\n    setLoading(true);\n    axios.post('http://localhost:5000/api/auth/signup', { name, email, password })\n      .then(res => {\n        alert(\"âœ… Signup successful! Please log in.\");\n        localStorage.setItem('token', res.data.token);\n        setUser(res.data.user);\n        setCurrentPage('shop');\n        fetchProducts();\n        setTimeout(() => fetchOrders(), 500); // Ensure orders fetched after signup\n      })\n      .catch(err => alert(\"âŒ Error: \" + (err.response?.data?.error || err.message)))\n      .finally(() => setLoading(false));\n  };\n\n  // ===== LOGIN =====\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    const email = document.getElementById('login-email').value;\n    const password = document.getElementById('login-password').value;\n\n    setLoading(true);\n    axios.post('http://localhost:5000/api/auth/login', { email, password })\n      .then(res => {\n        alert(\"âœ… Login successful!\");\n        localStorage.setItem('token', res.data.token);\n        setUser(res.data.user);\n        setCurrentPage('shop');\n        fetchProducts();\n        setTimeout(() => fetchOrders(), 500); // Ensure orders fetched after login\n      })\n      .catch(err => alert(\"âŒ Error: \" + (err.response?.data?.error || err.message)))\n      .finally(() => setLoading(false));\n  };\n\n  // LOGOUT\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n    setProducts([]);\n    setCart([]);\n    setCurrentPage('login');\n  };\n\n  // ADD TO CART\n  const handleAddToCart = (product) => {\n    const existingItem = cart.find(item => item._id === product._id);\n    let newCart;\n    if (existingItem) {\n      newCart = cart.map(item =>\n        item._id === product._id ? { ...item, quantity: item.quantity + 1 } : item\n      );\n    } else {\n      newCart = [...cart, { ...product, quantity: 1 }];\n    }\n    setCart(newCart);\n    localStorage.setItem('cart', JSON.stringify(newCart));\n    alert(\"âœ… Product added to cart!\");\n  };\n\n  // REMOVE FROM CART\n  const handleRemoveFromCart = (productId) => {\n    const newCart = cart.filter(item => item._id !== productId);\n    setCart(newCart);\n    localStorage.setItem('cart', JSON.stringify(newCart));\n  };\n\n  // UPDATE CART QUANTITY\n  const handleUpdateQuantity = (productId, quantity) => {\n    let newCart;\n    if (quantity <= 0) {\n      newCart = cart.filter(item => item._id !== productId);\n    } else {\n      newCart = cart.map(item =>\n        item._id === productId ? { ...item, quantity } : item\n      );\n    }\n    setCart(newCart);\n    localStorage.setItem('cart', JSON.stringify(newCart));\n  };\n\n  // CALCULATE TOTAL\n  const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n\n  // Add Product\n  const handleAdd = () => {\n    if (!form.name || !form.price || !form.image) {\n      alert(\"âš ï¸ Name, Price and Image are required!\");\n      return;\n    }\n\n    setLoading(true);\n    const token = localStorage.getItem('token');\n    axios.post('http://localhost:5000/api/products', form, {\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then(() => {\n        alert(\"âœ… Product Added!\");\n        setForm({ name: '', price: '', image: '', category: '', stock: '' });\n        fetchProducts();\n      })\n      .catch(err => alert(\"âŒ Error: \" + err.message))\n      .finally(() => setLoading(false));\n  };\n\n\n  // ===== ORDERS (Frontend) =====\n  const [orders, setOrders] = useState([]);\n  const [orderLoading, setOrderLoading] = useState(false);\n  const [shipping, setShipping] = useState({ name: '', phone: '', address: '', city: '', state: '', pincode: '', locality: '', landmark: '' });\n  const [paymentMethod, setPaymentMethod] = useState('COD');\n  const [checkoutStep, setCheckoutStep] = useState(1); // 1: shipping, 2: payment\n\n  const handleCheckout = () => {\n    if (!user) {\n      alert('Please login to place an order');\n      setCurrentPage('login');\n      return;\n    }\n    if (cart.length === 0) return alert('Cart is empty');\n    if (!shipping.name || !shipping.phone || !shipping.address || !shipping.city || !shipping.state || !shipping.pincode || !shipping.locality || !shipping.landmark) {\n      return alert('Please fill all shipping details');\n    }\n    const items = cart.map(i => ({ productId: i._id, name: i.name, price: i.price, quantity: i.quantity }));\n    setOrderLoading(true);\n    const token = localStorage.getItem('token');\n    axios.post('http://localhost:5000/api/orders', { items, total: cartTotal, shipping }, { headers: { Authorization: `Bearer ${token}` } })\n      .then(res => {\n        alert('âœ… Order placed successfully!');\n        setCart([]);\n        setShipping({ address: '', city: '', pincode: '', phone: '' });\n        fetchOrders();\n        setCurrentPage('shop');\n      })\n      .catch(err => alert('âŒ Error placing order: ' + (err.response?.data?.error || err.message)))\n      .finally(() => setOrderLoading(false));\n  };\n\n  const fetchOrders = () => {\n    const token = localStorage.getItem('token');\n    if (!token) return;\n    axios.get('http://localhost:5000/api/orders', { headers: { Authorization: `Bearer ${token}` } })\n      .then(res => setOrders(res.data))\n      .catch(err => console.error('Orders fetch error', err.message));\n  };\n\n  const updateOrderStatus = (id, status) => {\n    const token = localStorage.getItem('token');\n    axios.put(`http://localhost:5000/api/orders/${id}`, { status }, { headers: { Authorization: `Bearer ${token}` } })\n      .then(() => fetchOrders())\n      .catch(err => alert('âŒ Error: ' + (err.response?.data?.error || err.message)));\n  };\n\n  const handleDeleteOrder = (id) => {\n    if (!window.confirm('Delete this order?')) return;\n    const token = localStorage.getItem('token');\n    axios.delete(`http://localhost:5000/api/orders/${id}`, { headers: { Authorization: `Bearer ${token}` } })\n      .then(() => fetchOrders())\n      .catch(err => alert('âŒ Error: ' + (err.response?.data?.error || err.message)));\n  };\n\n  // Delete Product\n  const handleDelete = (id) => {\n    if (window.confirm(\"Are you sure you want to delete this product?\")) {\n      const token = localStorage.getItem('token');\n      axios.delete(`http://localhost:5000/api/products/${id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      })\n        .then(() => {\n          alert(\"âœ… Deleted!\");\n          fetchProducts();\n        })\n        .catch(err => alert(\"âŒ Error: \" + err.message));\n    }\n  };\n\n  // ===== THANKYOU PAGE =====\n  if (currentPage === 'thankyou') {\n    // Find the latest order for the user (if available)\n    const latestOrder = orders && orders.length > 0 ? orders[0] : null;\n    const customer = latestOrder && latestOrder.shipping ? {\n      name: latestOrder.shipping.name,\n      phone: latestOrder.shipping.phone,\n      email: user?.email,\n    } : {};\n    const products = latestOrder && latestOrder.items ? latestOrder.items.map(item => ({\n      name: item.name,\n      image: item.image || '/placeholder.png',\n      quantity: item.quantity,\n      price: item.price,\n    })) : [];\n    const priceDetails = latestOrder ? {\n      subtotal: latestOrder.items ? latestOrder.items.reduce((sum, i) => sum + i.price * i.quantity, 0) : 0,\n      shipping: latestOrder.shippingCharge || 0,\n      discount: latestOrder.discount || 0,\n      tax: latestOrder.tax || 0,\n      total: latestOrder.total || (latestOrder.items ? latestOrder.items.reduce((sum, i) => sum + i.price * i.quantity, 0) + (latestOrder.shippingCharge || 0) + (latestOrder.tax || 0) - (latestOrder.discount || 0) : 0),\n    } : {};\n    // Format address as a single string\n    const shippingAddress = latestOrder && latestOrder.shipping ? `${latestOrder.shipping.address}, ${latestOrder.shipping.locality}, ${latestOrder.shipping.landmark}, ${latestOrder.shipping.city}, ${latestOrder.shipping.state} - ${latestOrder.shipping.pincode}` : '';\n    // Status and payment badges\n    const statusBadge = (\n      <span className=\"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold ml-2\">{latestOrder?.status || 'Confirmed'}</span>\n    );\n    const paymentBadge = (\n      <span className=\"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-semibold ml-2\">{latestOrder?.paymentMethod === 'COD' ? 'Cash on Delivery' : 'Online Paid'}</span>\n    );\n    return (\n      <ModernOrderConfirmation\n        order={{\n          id: latestOrder?._id,\n          date: latestOrder ? new Date(latestOrder.createdAt).toLocaleString() : '',\n          paymentMethod: paymentBadge,\n          status: statusBadge,\n        }}\n        customer={customer}\n        shippingAddress={shippingAddress}\n        products={products}\n        priceDetails={priceDetails}\n        onContinueShopping={() => setCurrentPage('shop')}\n        onTrackOrder={() => window.alert('Track Order feature coming soon!')}\n        onDownloadInvoice={() => window.alert('Download Invoice feature coming soon!')}\n        supportEmail=\"support@flipzokart.com\"\n        supportWhatsapp=\"6033394539\"\n      />\n    );\n  }\n  // ===== LOGIN PAGE =====\n  if (currentPage === 'login') {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-r from-blue-600 to-blue-800 flex items-center justify-center p-4\">\n        <div className=\"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md\">\n          <h1 className=\"text-4xl font-bold text-center mb-8 text-blue-600\">Flipzokart</h1>\n          \n          <form onSubmit={handleLogin} className=\"space-y-4\">\n            <h2 className=\"text-2xl font-bold mb-6 text-center\">ðŸ” Login</h2>\n            <input\n              id=\"login-email\"\n              type=\"email\"\n              placeholder=\"ðŸ“§ Email\"\n              className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\"\n              required\n            />\n            <input\n              id=\"login-password\"\n              type=\"password\"\n              placeholder=\"ðŸ”‘ Password\"\n              className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\"\n              required\n            />\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-blue-600 text-white py-3 font-bold rounded hover:bg-blue-700 disabled:bg-gray-500\"\n            >\n              {loading ? \"â³ Loading...\" : \"âœ… Login\"}\n            </button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-gray-600\">Don't have an account?</p>\n            <button\n              onClick={() => setCurrentPage('signup')}\n              className=\"text-blue-600 font-bold hover:underline mt-2\"\n            >\n              Sign up ðŸ‘‰\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // ===== SIGNUP PAGE =====\n  if (currentPage === 'signup') {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-r from-green-600 to-green-800 flex items-center justify-center p-4\">\n        <div className=\"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md\">\n          <h1 className=\"text-4xl font-bold text-center mb-8 text-green-600\">Flipzokart</h1>\n          \n          <form onSubmit={handleSignup} className=\"space-y-4\">\n            <h2 className=\"text-2xl font-bold mb-6 text-center\">ðŸ“ Sign Up</h2>\n            <input\n              id=\"signup-name\"\n              type=\"text\"\n              placeholder=\"ðŸ‘¤ Full Name\"\n              className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-green-600\"\n              required\n            />\n            <input\n              id=\"signup-email\"\n              type=\"email\"\n              placeholder=\"ðŸ“§ Email\"\n              className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-green-600\"\n              required\n            />\n            <input\n              id=\"signup-password\"\n              type=\"password\"\n              placeholder=\"ðŸ”‘ Password\"\n              className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-green-600\"\n              required\n            />\n            <input\n              id=\"signup-confirm\"\n              type=\"password\"\n              placeholder=\"ðŸ” Confirm Password\"\n              className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-green-600\"\n              required\n            />\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-green-600 text-white py-3 font-bold rounded hover:bg-green-700 disabled:bg-gray-500\"\n            >\n              {loading ? \"â³ Loading...\" : \"âœ… Sign Up\"}\n            </button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-gray-600\">Already have an account?</p>\n            <button\n              onClick={() => setCurrentPage('login')}\n              className=\"text-green-600 font-bold hover:underline mt-2\"\n            >\n              Login ðŸ‘‰\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // ===== NAVBAR COMPONENT =====\n  const Navbar = () => (\n    <nav className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 text-white flex justify-between px-6 items-center shadow-2xl sticky top-0 z-50 backdrop-blur-sm\">\n      <div className=\"flex items-center space-x-4\">\n        <div className=\"bg-white/20 text-white rounded-full w-14 h-14 flex items-center justify-center font-extrabold text-2xl shadow-md\">F</div>\n        <div>\n          <h1 className=\"text-2xl font-extrabold tracking-tight\">Flipzokart</h1>\n          <p className=\"text-xs opacity-80\">Shop smart â€¢ Live happy</p>\n        </div>\n      </div>\n\n      <div className=\"space-x-3 flex items-center\">\n        <button onClick={() => setCurrentPage('home')} className={`px-4 py-2 rounded-lg font-semibold transition ${currentPage === 'home' ? 'bg-white text-indigo-700' : 'bg-white/10 hover:bg-white/20'}`}>ðŸ  Home</button>\n        <button onClick={() => setCurrentPage('categories')} className={`px-4 py-2 rounded-lg font-semibold transition ${currentPage === 'categories' ? 'bg-white text-indigo-700' : 'bg-white/10 hover:bg-white/20'}`}>ðŸ“‚ Categories</button>\n        <button onClick={() => setCurrentPage('cart')} className={`px-4 py-2 rounded-lg font-semibold relative transition ${currentPage === 'cart' ? 'bg-white text-indigo-700' : 'bg-white/10 hover:bg-white/20'}`}>\n          ðŸ›’ Cart\n          {cart.length > 0 && <span className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs shadow\">{cart.length}</span>}\n        </button>\n        {/* Removed Order History button from navbar */}\n        <button onClick={() => setCurrentPage('account')} className={`px-4 py-2 rounded-lg font-semibold transition ${currentPage === 'account' ? 'bg-white text-indigo-700' : 'bg-white/10 hover:bg-white/20'}`}>ðŸ‘¤ Account</button>\n        <button onClick={handleLogout} className=\"bg-red-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-600 transition\">ðŸšª Logout</button>\n      </div>\n    </nav>\n  );\n  // ===== ORDER HISTORY PAGE REMOVED (merged into account) =====\n\n  // ===== HOME PAGE =====\n  if (currentPage === 'home') {\n    return (\n      <div className=\"bg-gray-100 min-h-screen font-sans\">\n        <Navbar />\n        \n        {/* HERO BANNER */}\n        <div className=\"bg-gradient-to-r from-blue-600 via-blue-500 to-orange-500 text-white\">\n          <div className=\"max-w-7xl mx-auto px-6 py-24 flex items-center justify-between\">\n            <div className=\"flex-1\">\n              <h1 className=\"text-6xl font-bold mb-4 leading-tight\">\n                ðŸŽ‰ Apka Number 1 <br /> E-Commerce Platform\n              </h1>\n              <p className=\"text-xl mb-2 opacity-90\">Best products, Best prices, Best service!</p>\n              <p className=\"text-lg mb-8 opacity-80\">Lakh+ satisfied customers trust Flipzokart</p>\n              \n              <div className=\"flex space-x-4\">\n                <button \n                  onClick={() => setCurrentPage('categories')}\n                  className=\"bg-gradient-to-r from-yellow-400 to-orange-500 text-indigo-900 px-8 py-3 rounded-2xl font-extrabold text-lg hover:scale-105 transform transition shadow-2xl\"\n                >\n                  ðŸ›ï¸ Start Shopping\n                </button>\n                <button \n                  onClick={() => setCurrentPage('categories')}\n                  className=\"bg-white/20 border border-white/30 text-white px-8 py-3 rounded-2xl font-semibold text-lg hover:bg-white/30 hover:text-indigo-900 transition\"\n                >\n                  ðŸ“‚ Explore Categories\n                </button>\n              </div>\n              \n              <div className=\"flex space-x-8 mt-12\">\n                <div>\n                  <p className=\"text-3xl font-bold\">10K+</p>\n                  <p className=\"text-sm opacity-90\">Products</p>\n                </div>\n                <div>\n                  <p className=\"text-3xl font-bold\">100K+</p>\n                  <p className=\"text-sm opacity-90\">Customers</p>\n                </div>\n                <div>\n                  <p className=\"text-3xl font-bold\">24/7</p>\n                  <p className=\"text-sm opacity-90\">Support</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex-1 text-center\">\n              <div className=\"text-9xl\">ðŸ›’</div>\n              <p className=\"text-2xl font-bold mt-4\">Welcome to Flipzokart!</p>\n              <p className=\"text-lg mt-2 opacity-90\">ðŸ‘‹ {user?.name}, Shop with confidence</p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"p-10\">\n          {/* FEATURED PRODUCTS */}\n          <h2 className=\"text-3xl font-bold mb-6 text-center\">ðŸ”¥ Featured Products</h2>\n          {products.length === 0 ? (\n            <p className=\"text-center text-gray-500 text-xl\">âŒ No products yet</p>\n          ) : (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10\">\n              {products.slice(0, 4).map(p => (\n                <div key={p._id} className=\"bg-white p-4 rounded-2xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-200 overflow-hidden\">\n                  <div className=\"h-48 w-full bg-gradient-to-b from-white to-gray-100 flex items-center justify-center rounded-lg overflow-hidden\">\n                    <img src={p.image} className=\"h-full w-full object-contain\" alt={p.name} />\n                  </div>\n                  <h2 className=\"font-bold mt-3 text-lg truncate\">{p.name}</h2>\n                  <p className=\"text-gray-500 text-sm\">{p.category || 'General'}</p>\n                  <div className=\"flex items-center justify-between mt-2\">\n                    <p className=\"text-green-600 font-bold text-xl\">â‚¹{p.price}</p>\n                    <span className=\"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full\">{p.stock} in stock</span>\n                  </div>\n                  <button onClick={() => handleAddToCart(p)} className=\"mt-4 bg-indigo-600 text-white w-full py-2 rounded-xl font-semibold hover:bg-indigo-700 transform hover:scale-102 transition\">ðŸ›’ Add to Cart</button>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* QUICK NAVIGATION */}\n          <div className=\"mb-10\">\n            <h2 className=\"text-3xl font-bold mb-6 text-center\">âš¡ Quick Links</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"p-6 rounded-2xl shadow-lg cursor-pointer transition transform hover:scale-105 bg-gradient-to-br from-white/80 to-white/60\" onClick={() => setCurrentPage('categories')}>\n                <p className=\"text-4xl mb-3\">ðŸ“‚</p>\n                <h3 className=\"text-xl font-bold mb-2\">Browse Categories</h3>\n                <p className=\"text-gray-700\">Explore different product categories</p>\n              </div>\n              <div className=\"p-6 rounded-2xl shadow-lg cursor-pointer transition transform hover:scale-105 bg-gradient-to-br from-indigo-50 to-white/70\" onClick={() => setCurrentPage('categories')}>\n                <p className=\"text-4xl mb-3\">ðŸ†</p>\n                <h3 className=\"text-xl font-bold mb-2\">Best Sellers</h3>\n                <p className=\"text-gray-700\">Most popular products</p>\n              </div>\n              <div className=\"p-6 rounded-2xl shadow-lg cursor-pointer transition transform hover:scale-105 bg-gradient-to-br from-white/80 to-indigo-50\" onClick={() => setCurrentPage('account')}>\n                <p className=\"text-4xl mb-3\">ðŸ‘¤</p>\n                <h3 className=\"text-xl font-bold mb-2\">My Account</h3>\n                <p className=\"text-gray-700\">Manage your profile and orders</p>\n              </div>\n            </div>\n          </div>\n\n          {/* FEATURES SECTION */}\n          <div className=\"mb-10\">\n            <h2 className=\"text-3xl font-bold mb-6 text-center\">âœ¨ Why Choose Flipzokart?</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n              <div className=\"bg-white p-6 rounded-lg shadow-md hover:shadow-xl text-center\">\n                <p className=\"text-5xl mb-3\">ðŸšš</p>\n                <h3 className=\"text-xl font-bold mb-2\">Fast Delivery</h3>\n                <p className=\"text-gray-600\">Quick shipping to your doorstep</p>\n              </div>\n              <div className=\"bg-white p-6 rounded-lg shadow-md hover:shadow-xl text-center\">\n                <p className=\"text-5xl mb-3\">ðŸ’³</p>\n                <h3 className=\"text-xl font-bold mb-2\">Secure Payment</h3>\n                <p className=\"text-gray-600\">100% safe transactions</p>\n              </div>\n              <div className=\"bg-white p-6 rounded-lg shadow-md hover:shadow-xl text-center\">\n                <p className=\"text-5xl mb-3\">ðŸ”„</p>\n                <h3 className=\"text-xl font-bold mb-2\">Easy Returns</h3>\n                <p className=\"text-gray-600\">Hassle-free return policy</p>\n              </div>\n              <div className=\"bg-white p-6 rounded-lg shadow-md hover:shadow-xl text-center\">\n                <p className=\"text-5xl mb-3\">â­</p>\n                <h3 className=\"text-xl font-bold mb-2\">Best Quality</h3>\n                <p className=\"text-gray-600\">Premium products only</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // ===== CATEGORIES PAGE =====\n  if (currentPage === 'categories') {\n    const categories = ['All', ...new Set(products.map(p => p.category || 'General'))];\n    const filteredProducts = selectedCategory === 'All' ? products : products.filter(p => (p.category || 'General') === selectedCategory);\n\n    return (\n      <div className=\"bg-gray-100 min-h-screen font-sans\">\n        <Navbar />\n        <div className=\"p-10\">\n          <h2 className=\"text-3xl font-bold mb-6\">ðŸ“‚ Browse Categories</h2>\n          \n          <div className=\"flex space-x-3 mb-8 overflow-x-auto pb-4\">\n            {categories.map(cat => (\n              <button\n                key={cat}\n                onClick={() => setSelectedCategory(cat)}\n                className={`px-6 py-2 rounded-full font-bold whitespace-nowrap ${selectedCategory === cat ? 'bg-blue-600 text-white' : 'bg-white text-blue-600 border-2 border-blue-600'}`}\n              >\n                {cat}\n              </button>\n            ))}\n          </div>\n\n          {filteredProducts.length === 0 ? (\n            <p className=\"text-center text-gray-500 text-xl\">âŒ No products in this category</p>\n          ) : (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {filteredProducts.map(p => (\n                <div key={p._id} className=\"bg-white p-4 rounded shadow-md hover:shadow-xl transition\">\n                  <img src={p.image} className=\"h-48 w-full object-contain rounded\" alt={p.name} />\n                  <h2 className=\"font-bold mt-3 text-lg truncate\">{p.name}</h2>\n                  <p className=\"text-gray-500 text-sm\">{p.category || 'General'}</p>\n                  <p className=\"text-green-600 font-bold text-xl mt-2\">â‚¹{p.price}</p>\n                  <p className=\"text-sm text-gray-600 mb-2\">Stock: {p.stock || 'Available'}</p>\n                  <button onClick={() => handleAddToCart(p)} className=\"bg-orange-500 text-white w-full py-2 rounded font-bold hover:bg-orange-600\">ðŸ›’ Add to Cart</button>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n\n  // ===== CART PAGE =====\n  if (currentPage === 'cart') {\n    return (\n      <div className=\"bg-gray-100 min-h-screen font-sans\">\n        <Navbar />\n        <div className=\"p-10 max-w-3xl mx-auto\">\n          <h2 className=\"text-3xl font-bold mb-6\">ðŸ›’ Your Cart</h2>\n          {cart.length === 0 ? (\n            <p className=\"text-center text-gray-500 text-xl\">âŒ Cart is empty</p>\n          ) : (\n            <>\n              <div className=\"space-y-4 mb-8\">\n                {cart.map(item => (\n                  <div key={item._id} className=\"bg-white p-4 rounded shadow-md flex justify-between items-center\">\n                    <div>\n                      <h3 className=\"font-bold text-lg\">{item.name}</h3>\n                      <p className=\"text-green-600 font-bold\">â‚¹{item.price}</p>\n                      <p className=\"text-sm text-gray-600\">Qty: \n                        <input type=\"number\" min=\"1\" value={item.quantity} onChange={e => handleUpdateQuantity(item._id, parseInt(e.target.value))} className=\"w-16 ml-2 p-1 border rounded\" />\n                      </p>\n                    </div>\n                    <button onClick={() => handleRemoveFromCart(item._id)} className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 font-bold\">ðŸ—‘ï¸ Remove</button>\n                  </div>\n                ))}\n              </div>\n              <div className=\"bg-white p-6 rounded shadow-md\">\n                <h3 className=\"text-xl font-bold mb-4\">Total: â‚¹{cartTotal}</h3>\n                <button onClick={() => setCurrentPage('checkout')} disabled={cart.length === 0} className=\"w-full bg-blue-600 text-white py-3 font-bold rounded hover:bg-blue-700 disabled:bg-gray-500\">\n                  Proceed to Checkout\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  // ===== CHECKOUT PAGE =====\n  if (currentPage === 'checkout') {\n    // Payment method icons\n    const paymentOptions = [\n      {\n        value: 'COD',\n        label: 'Cash on Delivery',\n        icon: (\n          <span className=\"text-2xl\">ðŸ’µ</span>\n        ),\n      },\n      {\n        value: 'UPI',\n        label: 'UPI',\n        icon: (\n          <span className=\"h-6 w-6 flex items-center justify-center\">\n            <img\n              src=\"https://upload.wikimedia.org/wikipedia/commons/2/2e/Unified_Payments_Interface_logo.svg\"\n              alt=\"UPI\"\n              className=\"h-6 w-10 object-contain\"\n              onError={e => { e.target.style.display = 'none'; e.target.parentNode.innerHTML = 'ðŸª™'; }}\n            />\n          </span>\n        ),\n      },\n      {\n        value: 'DEBIT',\n        label: 'Debit Card',\n        icon: (\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/0/04/Visa.svg\" alt=\"Visa\" className=\"h-6 w-10 inline\" />\n        ),\n      },\n      {\n        value: 'CREDIT',\n        label: 'Credit Card',\n        icon: (\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/0/04/Visa.svg\" alt=\"Visa\" className=\"h-6 w-10 inline\" />\n        ),\n      },\n    ];\n\n    // Primary color\n    const primary = 'indigo-600';\n    const highlight = 'bg-indigo-50 border-indigo-600';\n\n    return (\n      <div className=\"bg-gray-100 min-h-screen font-sans flex flex-col\">\n        <Navbar />\n        <div className=\"max-w-2xl mx-auto w-full flex-1 pb-28 px-2 sm:px-0\">\n          {/* Shipping Details Card */}\n          {checkoutStep === 1 && (\n            <div className=\"mt-8\">\n              <div className=\"bg-white rounded-2xl shadow-xl p-8 mb-8 relative\">\n                <div className=\"flex items-center mb-6\">\n                  <span className=\"text-2xl mr-2 text-indigo-600\">ðŸšš</span>\n                  <h2 className=\"text-2xl font-bold tracking-tight\">Shipping Details</h2>\n                </div>\n                <form\n                  onSubmit={e => {\n                    e.preventDefault();\n                    // Validate shipping fields\n                    if (!shipping.name || !shipping.phone || !shipping.address || !shipping.city || !shipping.state || !shipping.pincode || !shipping.locality || !shipping.landmark) {\n                      alert('Please fill all shipping details');\n                      return;\n                    }\n                    setCheckoutStep(2);\n                  }}\n                  className=\"space-y-6\"\n                >\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n                    {/* Name */}\n                    <div className=\"relative\">\n                      <input\n                        type=\"text\"\n                        id=\"shipping-name\"\n                        value={shipping.name}\n                        onChange={e => setShipping({ ...shipping, name: e.target.value })}\n                        className=\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\"\n                        required\n                        autoComplete=\"name\"\n                      />\n                      <label htmlFor=\"shipping-name\" className=\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\">Full Name</label>\n                    </div>\n                    {/* Phone */}\n                    <div className=\"relative\">\n                      <input\n                        type=\"tel\"\n                        id=\"shipping-phone\"\n                        value={shipping.phone}\n                        onChange={e => setShipping({ ...shipping, phone: e.target.value })}\n                        className=\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\"\n                        required\n                        autoComplete=\"tel\"\n                      />\n                      <label htmlFor=\"shipping-phone\" className=\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\">Phone</label>\n                    </div>\n                  </div>\n                  {/* Address */}\n                  <div className=\"relative\">\n                    <input\n                      type=\"text\"\n                      id=\"shipping-address\"\n                      value={shipping.address}\n                      onChange={e => setShipping({ ...shipping, address: e.target.value })}\n                      className=\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\"\n                      required\n                      autoComplete=\"street-address\"\n                    />\n                    <label htmlFor=\"shipping-address\" className=\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\">Address</label>\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-6\">\n                    {/* City */}\n                    <div className=\"relative\">\n                      <input\n                        type=\"text\"\n                        id=\"shipping-city\"\n                        value={shipping.city}\n                        onChange={e => setShipping({ ...shipping, city: e.target.value })}\n                        className=\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\"\n                        required\n                        autoComplete=\"address-level2\"\n                      />\n                      <label htmlFor=\"shipping-city\" className=\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\">City</label>\n                    </div>\n                    {/* Pincode */}\n                    <div className=\"relative\">\n                      <input\n                        type=\"text\"\n                        id=\"shipping-pincode\"\n                        value={shipping.pincode}\n                        onChange={e => setShipping({ ...shipping, pincode: e.target.value })}\n                        className=\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\"\n                        required\n                        autoComplete=\"postal-code\"\n                      />\n                      <label htmlFor=\"shipping-pincode\" className=\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\">Pincode</label>\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n                    {/* State */}\n                    <div className=\"relative\">\n                      <input\n                        type=\"text\"\n                        id=\"shipping-state\"\n                        value={shipping.state}\n                        onChange={e => setShipping({ ...shipping, state: e.target.value })}\n                        className=\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\"\n                        required\n                        autoComplete=\"address-level1\"\n                      />\n                      <label htmlFor=\"shipping-state\" className=\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\">State</label>\n                    </div>\n                    {/* Locality */}\n                    <div className=\"relative\">\n                      <input\n                        type=\"text\"\n                        id=\"shipping-locality\"\n                        value={shipping.locality}\n                        onChange={e => setShipping({ ...shipping, locality: e.target.value })}\n                        className=\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\"\n                        required\n                        autoComplete=\"address-line2\"\n                      />\n                      <label htmlFor=\"shipping-locality\" className=\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\">Locality</label>\n                    </div>\n                  </div>\n                  {/* Landmark */}\n                  <div className=\"relative\">\n                    <input\n                      type=\"text\"\n                      id=\"shipping-landmark\"\n                      value={shipping.landmark}\n                      onChange={e => setShipping({ ...shipping, landmark: e.target.value })}\n                      className=\"peer w-full border-2 border-gray-200 rounded-lg px-4 pt-6 pb-2 focus:border-indigo-600 outline-none bg-transparent transition\"\n                      required\n                    />\n                    <label htmlFor=\"shipping-landmark\" className=\"absolute left-4 top-2 text-gray-500 text-sm transition-all peer-focus:-top-3 peer-focus:text-xs peer-focus:text-indigo-600 peer-valid:-top-3 peer-valid:text-xs bg-white px-1 pointer-events-none\">Landmark</label>\n                  </div>\n                  <div className=\"h-2\"></div>\n                </form>\n              </div>\n            </div>\n          )}\n          {/* Payment Method Card */}\n          {checkoutStep === 2 && (\n            <div className=\"mt-8\">\n              <div className=\"bg-white rounded-2xl shadow-xl p-8 mb-8\">\n                <h2 className=\"text-2xl font-bold mb-6 flex items-center\">\n                  <span className=\"text-indigo-600 text-2xl mr-2\">ðŸ’³</span>\n                  Payment Method\n                </h2>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8\">\n                  {paymentOptions.map(opt => (\n                    <button\n                      key={opt.value}\n                      type=\"button\"\n                      className={`flex items-center border-2 rounded-xl px-5 py-4 w-full transition shadow-sm text-left space-x-4 focus:outline-none ${paymentMethod === opt.value ? highlight + ' ring-2 ring-indigo-200' : 'bg-gray-50 border-gray-200 hover:border-indigo-400'}`}\n                      onClick={() => setPaymentMethod(opt.value)}\n                    >\n                      <span>{opt.icon}</span>\n                      <span className=\"font-semibold text-lg\">{opt.label}</span>\n                      {paymentMethod === opt.value && (\n                        <span className=\"ml-auto text-indigo-600 font-bold text-xl\">âœ“</span>\n                      )}\n                    </button>\n                  ))}\n                </div>\n                <button\n                  className=\"w-full bg-indigo-600 text-white py-3 font-bold rounded-xl text-lg hover:bg-indigo-700 transition disabled:bg-gray-400\"\n                  disabled={orderLoading}\n                  onClick={() => {\n                    if (!user) {\n                      alert('Please login to place an order');\n                      setCurrentPage('login');\n                      return;\n                    }\n                    setOrderLoading(true);\n                    const items = cart.map(i => ({ productId: i._id, name: i.name, price: i.price, quantity: i.quantity }));\n                    const token = localStorage.getItem('token');\n                    axios.post('http://localhost:5000/api/orders', { items, total: cartTotal, shipping, paymentMethod }, { headers: { Authorization: `Bearer ${token}` } })\n                      .then(res => {\n                        setCart([]);\n                        localStorage.removeItem('cart');\n                        fetchOrders();\n                        setCurrentPage('thankyou');\n                        // Ensure orders are fetched again after navigating to thankyou\n                        setTimeout(() => fetchOrders(), 500);\n                      })\n                      .catch(err => {\n                        alert('âŒ Error placing order: ' + (err.response?.data?.error || err.message));\n                      })\n                      .finally(() => setOrderLoading(false));\n                  }}\n                >\n                  {orderLoading ? 'Placing Order...' : 'Place Order'}\n                </button>\n                <button\n                  className=\"w-full mt-3 bg-gray-200 text-gray-800 py-2 rounded-xl font-bold hover:bg-gray-300\"\n                  onClick={() => setCheckoutStep(1)}\n                >\n                  â† Back to Shipping\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n        {/* Sticky Bottom Button */}\n        {checkoutStep === 1 && (\n          <div className=\"fixed bottom-0 left-0 w-full bg-white shadow-2xl py-4 px-4 flex justify-center z-50\">\n            <button\n              className=\"w-full max-w-2xl bg-indigo-600 text-white py-3 font-bold rounded-xl text-lg hover:bg-indigo-700 transition disabled:bg-gray-400\"\n              onClick={() => {\n                // Validate shipping fields\n                if (!shipping.name || !shipping.phone || !shipping.address || !shipping.city || !shipping.state || !shipping.pincode || !shipping.locality || !shipping.landmark) {\n                  alert('Please fill all shipping details');\n                  return;\n                }\n                setCheckoutStep(2);\n              }}\n            >\n              Proceed to Payment\n            </button>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  // ===== SHOP PAGE =====\n  if (currentPage === 'shop') {\n    return (\n      <div className=\"bg-gray-100 min-h-screen font-sans\">\n        <Navbar />\n        <div className=\"p-10\">\n          <h2 className=\"text-3xl font-bold mb-6\">ðŸŽ‰ All Products</h2>\n          {products.length === 0 ? (\n            <p className=\"text-center text-gray-500 text-xl\">âŒ No products available</p>\n          ) : (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {products.map(p => (\n                <div key={p._id} className=\"bg-white p-4 rounded shadow-md hover:shadow-xl transition\">\n                  <img src={p.image} className=\"h-48 w-full object-contain rounded\" alt={p.name} />\n                  <h2 className=\"font-bold mt-3 text-lg truncate\">{p.name}</h2>\n                  <p className=\"text-gray-500 text-sm\">{p.category || 'General'}</p>\n                  <p className=\"text-green-600 font-bold text-xl mt-2\">â‚¹{p.price}</p>\n                  <button onClick={() => handleAddToCart(p)} className=\"bg-orange-500 text-white w-full py-2 mt-3 rounded font-bold hover:bg-orange-600\">ðŸ›’ Add to Cart</button>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n\n\n  if (currentPage === 'account') {\n    return (\n      <div className=\"bg-gray-100 min-h-screen font-sans\">\n        <Navbar />\n        <div className=\"p-10 max-w-2xl mx-auto\">\n          <h2 className=\"text-3xl font-bold mb-6\">ðŸ‘¤ My Account</h2>\n          {user ? (\n            <div className=\"bg-white p-6 rounded shadow-md\">\n              <p className=\"text-lg font-bold mb-2\">Name: {user.name}</p>\n              <p className=\"text-lg mb-2\">Email: {user.email}</p>\n              <p className=\"text-lg mb-2\">Role: {user.role}</p>\n              <h3 className=\"text-xl font-bold mt-6 mb-2\">Order History</h3>\n              {orders.length === 0 ? (\n                <p className=\"text-gray-600\">No orders found.</p>\n              ) : (\n                <div className=\"space-y-6\">\n                      {orders.map(order => (\n                        <div key={order._id} className=\"bg-gray-50 p-4 rounded shadow\">\n                          <div className=\"flex justify-between items-center mb-2\">\n                            <span className=\"font-bold\">Order ID: {order._id}</span>\n                            <span className=\"text-sm text-gray-500\">{new Date(order.createdAt).toLocaleString()}</span>\n                          </div>\n                          <div className=\"mb-2 flex items-center\">\n                            <span className=\"font-bold\">Status:</span>\n                            <span className=\"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold ml-2\">{order.status}</span>\n                            <span className=\"ml-4 font-bold\">Payment:</span>\n                            <span className=\"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-semibold ml-2\">{order.paymentMethod === 'COD' ? 'Cash on Delivery' : 'Online Paid'}</span>\n                          </div>\n                          <div className=\"mb-2\">\n                            <span className=\"font-bold\">Total:</span> â‚¹{order.total}\n                          </div>\n                          <div className=\"mb-2\">\n                            <span className=\"font-bold\">Items:</span>\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2\">\n                              {order.items.map(item => (\n                                <div key={item.productId} className=\"flex items-center bg-white border border-gray-100 rounded-lg shadow-sm p-2\">\n                                  <img\n                                    src={item.image || '/placeholder.png'}\n                                    alt={item.name}\n                                    className=\"h-12 w-12 object-contain rounded mr-3 border\"\n                                  />\n                                  <div className=\"flex-1\">\n                                    <div className=\"font-semibold text-gray-800\">{item.name}</div>\n                                    <div className=\"text-sm text-gray-500\">Qty: {item.quantity}</div>\n                                    <div className=\"text-green-600 font-bold text-sm\">â‚¹{item.price}</div>\n                                  </div>\n                                </div>\n                              ))}\n                            </div>\n                          </div>\n                          {order.shipping && (\n                            <div className=\"mt-2 text-sm text-gray-700\">\n                              <span className=\"font-bold\">Shipping:</span> {`${order.shipping.address}, ${order.shipping.locality}, ${order.shipping.landmark}, ${order.shipping.city}, ${order.shipping.state} - ${order.shipping.pincode}`}\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"bg-white p-6 rounded shadow-md text-center\">\n              <p className=\"text-lg mb-4\">Please login to view your account.</p>\n              <button onClick={() => setCurrentPage('login')} className=\"bg-blue-600 text-white px-6 py-2 rounded font-bold hover:bg-blue-700\">Login</button>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  // ===== ADMIN PAGE =====\n  if (currentPage === 'admin') {\n    return (\n      <div className=\"bg-gray-100 min-h-screen font-sans\">\n        <Navbar />\n        <div className=\"p-10 flex flex-col lg:flex-row gap-10\">\n          <div className=\"max-w-lg bg-white p-6 shadow-lg rounded-lg\">\n            <h2 className=\"text-2xl font-bold mb-6\">âž• Add New Product</h2>\n            <div className=\"space-y-4\">\n              <input placeholder=\"Product Name\" className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\" value={form.name} onChange={e => setForm({...form, name: e.target.value})} />\n              <input placeholder=\"Price (â‚¹)\" type=\"number\" className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\" value={form.price} onChange={e => setForm({...form, price: e.target.value})} />\n              <input placeholder=\"Image URL\" className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\" value={form.image} onChange={e => setForm({...form, image: e.target.value})} />\n              <input placeholder=\"Category\" className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\" value={form.category} onChange={e => setForm({...form, category: e.target.value})} />\n              <input placeholder=\"Stock\" type=\"number\" className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-blue-600\" value={form.stock} onChange={e => setForm({...form, stock: e.target.value})} />\n              <button onClick={handleAdd} disabled={loading} className=\"bg-blue-600 text-white w-full py-3 font-bold rounded hover:bg-blue-700 disabled:bg-gray-500\">{loading ? \"â³ Adding...\" : \"âœ… UPLOAD PRODUCT\"}</button>\n            </div>\n          </div>\n\n          <div className=\"flex-1\">\n            <h2 className=\"text-2xl font-bold mb-6\">ðŸ“¦ All Products ({products.length})</h2>\n            {products.length === 0 ? (\n              <p className=\"text-gray-500 text-lg\">No products available</p>\n            ) : (\n              <div className=\"grid grid-cols-1 gap-4\">\n                {products.map(p => (\n                  <div key={p._id} className=\"bg-white p-4 rounded shadow-md flex justify-between items-center\">\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-bold text-lg\">{p.name}</h3>\n                      <p className=\"text-green-600 font-bold\">â‚¹{p.price}</p>\n                      <p className=\"text-sm text-gray-600\">{p.category || 'General'} | Stock: {p.stock || 'N/A'}</p>\n                    </div>\n                    <button onClick={() => handleDelete(p._id)} className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 font-bold\">ðŸ—‘ï¸ Delete</button>\n                  </div>\n                ))}\n              </div>\n            )}\n            \n            {/* ADMIN ORDERS */}\n            <div className=\"mt-8 bg-white p-6 rounded shadow\">\n              <h3 className=\"text-2xl font-bold mb-4\">ðŸ“‹ Orders</h3>\n              {orders.length === 0 ? (\n                <p className=\"text-gray-600\">No orders yet</p>\n              ) : (\n                <div className=\"space-y-4\">\n                  {orders.map(o => (\n                    <div key={o._id} className=\"border rounded p-4 flex justify-between items-start\">\n                      <div>\n                        <p className=\"font-bold\">Order ID: {o._id}</p>\n                        <p className=\"text-sm text-gray-600\">Placed: {new Date(o.createdAt).toLocaleString()}</p>\n                        <p className=\"mt-2\">Items:</p>\n                        <ul className=\"list-disc list-inside text-sm\">\n                          {o.items.map(it => (<li key={it.productId}>{it.name} x {it.quantity} â€” â‚¹{it.price}</li>))}\n                        </ul>\n                        <p className=\"font-bold mt-2\">Total: â‚¹{o.total}</p>\n                        {o.shipping && (\n                          <div className=\"mt-2 text-sm text-gray-700\">\n                            <p className=\"font-bold\">Shipping Details:</p>\n                            <p>Name: {o.shipping.name}</p>\n                            <p>Phone: {o.shipping.phone}</p>\n                            <p>Address: {o.shipping.address}</p>\n                            <p>City: {o.shipping.city}</p>\n                            <p>Pincode: {o.shipping.pincode}</p>\n                            <p>Locality: {o.shipping.locality}</p>\n                            <p>Landmark: {o.shipping.landmark}</p>\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"text-right space-y-2\">\n                        <p className=\"font-bold\">Status: <span className=\"text-indigo-600\">{o.status}</span></p>\n                        <div className=\"space-x-2\">\n                          <button onClick={() => updateOrderStatus(o._id, 'shipped')} className=\"px-3 py-1 bg-yellow-400 rounded\">Mark Shipped</button>\n                          <button onClick={() => updateOrderStatus(o._id, 'delivered')} className=\"px-3 py-1 bg-green-500 text-white rounded\">Mark Delivered</button>\n                          <button onClick={() => updateOrderStatus(o._id, 'cancelled')} className=\"px-3 py-1 bg-red-500 text-white rounded\">Cancel</button>\n                        </div>\n                        <button onClick={() => handleDeleteOrder(o._id)} className=\"mt-2 px-3 py-1 bg-gray-200 rounded\">Delete</button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}